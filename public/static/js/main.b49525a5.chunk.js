(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(12),s=n.n(a),o=(n(19),n(3)),i=(n(20),n(2)),j=n(0);var u=function(e){var t=e.onLogin,n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(""),u=Object(o.a)(i,2),b=u[0],l=u[1],d=Object(c.useState)([]),O=Object(o.a)(d,2),h=(O[0],O[1]);return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:b})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return h(e.errors)}))}))},children:[Object(j.jsx)("input",{type:"text",name:"username",placeholder:"username...",onChange:function(e){return s(e.target.value)},value:a}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",name:"password",placeholder:"password...",onChange:function(e){return l(e.target.value)},value:b}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",children:"Login"})]})};var b=function(e){var t=e.onLogin,n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(""),u=Object(o.a)(i,2),b=u[0],l=u[1],d=Object(c.useState)(""),O=Object(o.a)(d,2),h=O[0],p=O[1],x=Object(c.useState)(""),f=Object(o.a)(x,2),g=f[0],m=f[1],v=Object(c.useState)(""),y=Object(o.a)(v,2),S=y[0],C=y[1],k=Object(c.useState)([]),w=Object(o.a)(k,2),L=(w[0],w[1]);return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),L([]),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:b,password_confirmation:h,image_url:g,phone_number:S})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return L(e.errors)}))}))},children:[Object(j.jsx)("input",{type:"text",name:"username",placeholder:"username...",onChange:function(e){return s(e.target.value)},value:a}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",name:"password",placeholder:"password...",onChange:function(e){return l(e.target.value)},value:b}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",name:"password confirmation",placeholder:"password confirmation...",onChange:function(e){return p(e.target.value)},value:h}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",name:"imageUrl",placeholder:"Image url...",onChange:function(e){return m(e.target.value)},value:g}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",name:"phoneNumber",placeholder:"phone number...",onChange:function(e){return C(e.target.value)},value:S}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",children:"Create Account"})]})};var l=function(e){var t=e.onLogin,n=Object(c.useState)(!0),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Andy's List"}),a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{onLogin:t}),Object(j.jsx)("p",{children:"Need to create an account?"}),Object(j.jsx)("button",{onClick:function(){return s(!1)},children:" Signup"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{onLogin:t}),Object(j.jsx)("p",{children:"Already have an account?"}),Object(j.jsx)("button",{onClick:function(){return s(!0)},children:" Login Page"})]})]})},d=n(6),O={display:"inline-block",width:"130px",padding:"12px",margin:"0px 6px 6px",background:"green",textDecoration:"none",color:"black"};var h=function(e){e.user;var t=e.setUser;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"navbar",children:[Object(j.jsx)("br",{}),Object(j.jsx)(d.b,{to:"/",exact:!0,style:O,activeStyle:{background:"#61fb78"},children:"Posts"}),Object(j.jsx)(d.b,{to:"/profile",exact:!0,style:O,activeStyle:{background:"#61fb78"},children:"Profile"}),Object(j.jsx)(d.b,{to:"/favorites",exact:!0,style:O,activeStyle:{background:"#61fb78"},children:"Favorites"}),Object(j.jsx)(d.b,{to:"/create_post",exact:!0,style:O,activeStyle:{background:"#61fb78"},children:"New Post"}),Object(j.jsx)(d.b,{to:"/",exact:!0,style:O,onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&t(null)}))},children:"Logout"})]})})};var p=function(e){var t=e.post,n=e.user;return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:t.image_url,alt:"post image",width:"200px",height:"200px"}),Object(j.jsx)("p",{className:"postName",children:t.name}),Object(j.jsx)("p",{children:t.description}),Object(j.jsxs)("p",{children:["Tag: ",t.tag.name]}),Object(j.jsx)("button",{onClick:function(){fetch("/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post_id:t.id,user_id:n.id})})},children:"favorite"})]})};var x=function(e){var t=e.user;return Object(j.jsx)("div",{children:t.favorited_posts.map((function(e){return Object(j.jsx)(p,{post:e},e.id)}))})};var f=function(e){var t=e.user;return Object(j.jsx)("div",{className:"profile",children:Object(j.jsxs)("div",{className:"profileCard",children:[Object(j.jsx)("h1",{id:"myProfile",children:"My Profile"}),Object(j.jsx)("img",{src:t.image_url}),Object(j.jsxs)("p",{children:["Username: ",t.username]}),Object(j.jsxs)("p",{children:["Phone Number: ",t.phone_number]})]})})};var g=function(){return"hello from new post"};var m=function(e){var t=e.tag,n=e.onTagClick;return Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){n(t)},children:t.name})})};var v=function(e){var t=e.posts,n=e.user,r=Object(c.useState)([]),a=Object(o.a)(r,2),s=a[0],i=a[1],u=Object(c.useState)(null),b=Object(o.a)(u,2),l=b[0],d=b[1],O=Object(c.useState)([]),h=Object(o.a)(O,2),x=h[0],f=h[1];function g(e){var n=t.filter((function(t){return t.tag.id===e.id})),c=e;f(n),d(c)}return Object(c.useEffect)((function(){fetch("/tags").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]),Object(j.jsx)("div",{children:l?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){d(null)},children:"Main Menu"}),x.map((function(e){return Object(j.jsx)(p,{post:e,user:n},e.id)}))]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"AndysList"}),Object(j.jsx)("h2",{children:"Plase select a category below to browse posts "}),s.map((function(e){return Object(j.jsx)(m,{tag:e,onTagClick:g},e.id)}))]})})};var y=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(o.a)(a,2),u=s[0],b=s[1];return Object(c.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return r(e)}))}))}),[]),Object(c.useEffect)((function(){fetch("/posts").then((function(e){return e.json()})).then((function(e){return b(e)}))}),[]),n?Object(j.jsxs)("div",{children:[Object(j.jsx)(h,{user:n,setUser:r}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/profile",children:Object(j.jsx)(f,{user:n})}),Object(j.jsx)(i.a,{exact:!0,path:"/favorites",children:Object(j.jsx)(x,{user:n})}),Object(j.jsx)(i.a,{exact:!0,path:"/create_post",children:Object(j.jsx)(g,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/",children:Object(j.jsx)(v,{posts:u,user:n})})]})]}):Object(j.jsx)(l,{onLogin:r})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(y,{})})}),document.getElementById("root")),S()}},[[30,1,2]]]);
//# sourceMappingURL=main.b49525a5.chunk.js.map